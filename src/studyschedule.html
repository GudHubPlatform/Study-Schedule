<div class="container" id="redips-drag">
    <div class="table-scroll">
        <table class="table-lessons">
            <thead>
                <tr>
                <th class="redips-mark">Уроки</th>
                </tr>
            </thead>
            <tbody>
                ${lessons.reduce((acc, {title, classNumber}) => acc + 
                    `
                        <tr>
                            <td class="redips-mark">
                            <div class="redips-drag redips-clone" ${lessonIdAttribute}="${title}:${classNumber}">
                                ${(classNumber ? [...title, ':', classNumber] : [...title]).map((el, i) => i === 0 ? el.toUpperCase() : el).join('')}
                            </div>
                            </td>
                        </tr>
                    `
                    , '')}
            </tbody>
        </table>
    </div>
    <div class="table-scroll-schedule">
        <table class="table-schedule">
            <thead>
                <tr class="row-freeze">
                <th class="redips-trash" colspan="2" title="Trash">Trash
                </th>
                    ${classes.reduce((acc, {classNumber, classLetter}) => acc + `
                        <th class="classNumber redips-mark" colspan=${columnWidth}>${`${classNumber}-${classLetter}`}</th>
                    `, '')}
                </tr>
            </thead>
            <tbody>
            <!-- Rewrite {return} on callback return -->
                <!-- ${daysOfWeek.reduce((acc, day, dayIndex) => acc + 
                    (
                        Array.apply(null, Array(lessonsPerDay)).reduce((acc, element, index) => {
                            let str = `
                                ${
                                    index === 0
                                    ? `<td class="day-of-week column-cell-freeze redips-mark" rowspan=${lessonsPerDay}>${day}</td>`
                                    : ''
                                }
                                <td class="column-cell-freeze redips-mark">${index + 1}</td>
                            ` + classes.reduce((acc, {classNumber, classLetter}, colIndex) => acc + `<td colspan=${columnWidth} class=${lessonCellClass.replace('.','')} ${cellRowAttribute}="${dayIndex * lessonsPerDay + index}" ${cellColAttribute}="${colIndex}"></td>`, '');
                            
                            return acc + `<tr>${str}</tr>`
                        }
                            , '')
                    ), '')
                } -->
                ${
                    storage.reduce((acc, row, rowIndex) => acc + `
                        <tr>
                            ${
                                rowIndex % lessonsPerDay === 0
                                ? `<td class="day-of-week column-cell-freeze redips-mark" rowspan=${lessonsPerDay}>${daysOfWeek[Math.floor(rowIndex / lessonsPerDay) % daysOfWeek.length]}</td>`
                                : ''
                            }
                            <td class="column-cell-freeze redips-mark">${rowIndex % lessonsPerDay + 1}</td>
                            ${row.reduce((accRow, {lesson}, colIndex) => accRow + `
                                <td colspan=${columnWidth} class=${lessonCellClass.replace('.','')} ${cellRowAttribute}="${rowIndex}" ${cellColAttribute}="${colIndex}">
                                    ${
                                        lesson  ? `<div class="redips-drag" ${lessonIdAttribute}="${lesson.title}:${lesson.classNumber}">
                                                        ${[...lesson.title, ':', lesson.classNumber].map((el, i) => i === 0 ? el.toUpperCase() : el).join('')}
                                                   </div>`
                                                : ''
                                    }
                                </td>
                            `, '')}
                        </tr>
                    `, '')
                }
            </tbody>
        </table>
    </div>
</div>